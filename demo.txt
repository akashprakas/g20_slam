cmake_minimum_required(VERSION 3.10)
project(MyG2OProject)

# Set the C++ standard to C++11 or higher
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Find G2O package
find_package(G2O REQUIRED)

# Find other dependencies like Eigen (G2O requires Eigen)
find_package(Eigen3 REQUIRED)

# Include directories for G2O and Eigen
include_directories(${G2O_INCLUDE_DIRS})
include_directories(${EIGEN3_INCLUDE_DIR})

# Add source files (your C++ files)
set(SOURCES
    src/main.cpp
    src/optimizer.cpp
    src/graph.cpp
)

# Create the executable target
add_executable(${PROJECT_NAME} ${SOURCES})

# Link G2O and Eigen libraries to your project
target_link_libraries(${PROJECT_NAME} 
    ${G2O_CORE_LIBRARY} 
    ${G2O_STUFF_LIBRARY}
    ${G2O_SOLVER_CSPARSE}  # Add any additional solvers you need here
    ${G2O_SOLVER_DENSE}    # For example, CSPARSE and DENSE
    ${G2O_TYPES_SLAM2D}    # Add types as per your application
    ${G2O_TYPES_SLAM3D}
    ${EIGEN3_LIBRARIES}
)

# Optional: Additional settings for compiling
set(CMAKE_BUILD_TYPE Release)
